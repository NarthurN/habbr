# Contributing Guide - Habbr

–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –∏–Ω—Ç–µ—Ä–µ—Å –∫ —É—á–∞—Å—Ç–∏—é –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ Habbr! –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º.

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–ö–æ–¥–µ–∫—Å –ø–æ–≤–µ–¥–µ–Ω–∏—è](#–∫–æ–¥–µ–∫—Å-–ø–æ–≤–µ–¥–µ–Ω–∏—è)
- [–ö–∞–∫ –≤–Ω–µ—Å—Ç–∏ –≤–∫–ª–∞–¥](#–∫–∞–∫-–≤–Ω–µ—Å—Ç–∏-–≤–∫–ª–∞–¥)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–æ–∫—Ä—É–∂–µ–Ω–∏—è-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- [–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#–ø—Ä–æ—Ü–µ—Å—Å-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- [–°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∞](#—Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã-–∫–æ–¥–∞)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- [Pull Request –ø—Ä–æ—Ü–µ—Å—Å](#pull-request-–ø—Ä–æ—Ü–µ—Å—Å)

## –ö–æ–¥–µ–∫—Å –ø–æ–≤–µ–¥–µ–Ω–∏—è

–ü—Ä–æ–µ–∫—Ç –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏ –∏ –∏–Ω–∫–ª—é–∑–∏–≤–Ω–æ—Å—Ç–∏. –í—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–æ–ª–∂–Ω—ã:

- –ë—ã—Ç—å —É–≤–∞–∂–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∫ –¥—Ä—É–≥–∏–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º
- –ü—Ä–∏–Ω–∏–º–∞—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—É—é –∫—Ä–∏—Ç–∏–∫—É
- –§–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Ç–æ–º, —á—Ç–æ –ª—É—á—à–µ –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
- –ü—Ä–æ—è–≤–ª—è—Ç—å —ç–º–ø–∞—Ç–∏—é –∫ –¥—Ä—É–≥–∏–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º —Å–æ–æ–±—â–µ—Å—Ç–≤–∞

## –ö–∞–∫ –≤–Ω–µ—Å—Ç–∏ –≤–∫–ª–∞–¥

### –¢–∏–ø—ã –≤–∫–ª–∞–¥–∞

–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –≤–∫–ª–∞–¥–∞:

- üêõ **–°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö**
- üí° **–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π**
- üìù **–£–ª—É—á—à–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**
- üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞**
- ‚ú® **–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**
- üß™ **–ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤**
- üîç **–ö–æ–¥ —Ä–µ–≤—å—é**

### –ü—Ä–µ–∂–¥–µ —á–µ–º –Ω–∞—á–∞—Ç—å

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ Issues](../../issues)
2. –û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å [–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –ø—Ä–æ–µ–∫—Ç–∞](ARCHITECTURE.md)
3. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ —ç—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.21+
- Docker & Docker Compose
- Git
- Make (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
   ```bash
   git clone https://github.com/NarthurN/habbr.git
   cd habbr
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
   ```bash
   make setup
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
   ```bash
   make docker-dev-tools
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   ```bash
   # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
   make test

   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–Ω—Ç–µ—Ä–∞
   make lint

   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   make format
   ```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
habbr/
‚îú‚îÄ‚îÄ cmd/server/          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ api/graphql/    # GraphQL API —Å–ª–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ service/        # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ repository/     # –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
‚îÇ   ‚îú‚îÄ‚îÄ model/          # –î–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ config/         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ migrations/         # SQL –º–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ scripts/           # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ docs/              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ tests/             # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
```

## –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### Workflow

1. **–°–æ–∑–¥–∞–π—Ç–µ Issue** (–µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç)
2. **–°–æ–∑–¥–∞–π—Ç–µ feature branch** –∏–∑ `main`
3. **–†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é** —Å —Ç–µ—Å—Ç–∞–º–∏
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥** –ª–∏–Ω—Ç–µ—Ä–æ–º –∏ —Ç–µ—Å—Ç–∞–º–∏
5. **–°–æ–∑–¥–∞–π—Ç–µ Pull Request**
6. **–ü—Ä–æ–π–¥–∏—Ç–µ –∫–æ–¥ —Ä–µ–≤—å—é**
7. **Merge** –ø–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≤–µ—Ç–æ–∫

```bash
# –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
feature/add-user-authentication
feature/implement-rate-limiting

# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫
fix/comment-depth-validation
fix/memory-leak-in-subscriptions

# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
docs/update-api-examples
docs/add-deployment-guide

# –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
refactor/extract-validation-service
refactor/improve-error-handling

# Chore (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏)
chore/update-dependencies
chore/setup-ci-pipeline
```

### Commit —Å–æ–æ–±—â–µ–Ω–∏—è

–ò—Å–ø–æ–ª—å–∑—É–µ–º [Conventional Commits](https://www.conventionalcommits.org/):

```
type(scope): description

body (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

footer (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

#### –¢–∏–ø—ã:

- `feat`: –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- `fix`: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏
- `docs`: –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- `style`: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- `refactor`: —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- `test`: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- `chore`: –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ

#### –ü—Ä–∏–º–µ—Ä—ã:

```bash
feat(api): add rate limiting middleware
fix(repository): handle concurrent access to in-memory storage
docs(readme): update installation instructions
test(service): add unit tests for comment validation
refactor(resolver): extract common error handling
```

## –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∞

### Go Style Guide

–°–ª–µ–¥—É–µ–º [Go Code Review Comments](https://github.com/golang/go/wiki/CodeReviewComments):

#### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ

```go
// Good: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—Ä–∞—Ç–∫–∏–µ, –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞
func GetPost(id uuid.UUID) (*Post, error)
func ValidateInput(input *PostInput) error

// Bad: –∏–∑–±–µ–≥–∞–π—Ç–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π –∏ –Ω–µ—è—Å–Ω—ã—Ö –∏–º–µ–Ω
func GetP(i uuid.UUID) (*P, error)
func ValInp(inp *PI) error
```

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```go
// Good: –≤—Å–µ–≥–¥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏
post, err := repo.GetPost(ctx, id)
if err != nil {
    return nil, fmt.Errorf("failed to get post %s: %w", id, err)
}

// Good: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
if errors.Is(err, ErrPostNotFound) {
    return nil, ErrPostNotFound
}

// Bad: –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
post, _ := repo.GetPost(ctx, id)
```

#### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

```go
// Good: –º–∞–ª–µ–Ω—å–∫–∏–µ, —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
type PostRepository interface {
    GetPost(ctx context.Context, id uuid.UUID) (*Post, error)
    CreatePost(ctx context.Context, input *PostInput) (*Post, error)
}

// Good: –ø—Ä–∏–Ω–∏–º–∞–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
func NewPostService(repo PostRepository) *PostService {
    return &PostService{repo: repo}
}
```

#### –°—Ç—Ä—É–∫—Ç—É—Ä—ã

```go
// Good: –≥—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ø–æ–ª—è
type Post struct {
    // Identity
    ID       uuid.UUID
    AuthorID uuid.UUID

    // Content
    Title   string
    Content string

    // Settings
    CommentsEnabled bool

    // Timestamps
    CreatedAt time.Time
    UpdatedAt time.Time
}
```

### GraphQL Style Guide

#### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ

```graphql
# Good: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ PascalCase –¥–ª—è —Ç–∏–ø–æ–≤
type Post {
  id: ID!
  title: String!
}

# Good: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ camelCase –¥–ª—è –ø–æ–ª–µ–π
type Query {
  posts(first: Int, after: String): PostConnection!
  searchPosts(query: String!): [Post!]!
}
```

#### –ü–∞–≥–∏–Ω–∞—Ü–∏—è

```graphql
# Good: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Relay Cursor Connections
type PostConnection {
  edges: [PostEdge!]!
  pageInfo: PageInfo!
  totalCount: Int!
}

type PostEdge {
  node: Post!
  cursor: String!
}
```

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make format

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
go fmt ./...
goimports -w .
```

### –õ–∏–Ω—Ç–∏–Ω–≥

```bash
# –ó–∞–ø—É—Å–∫ –ª–∏–Ω—Ç–µ—Ä–∞
make lint

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
golangci-lint run
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–ü–∏—Ä–∞–º–∏–¥–∞ —Ç–µ—Å—Ç–æ–≤**: –±–æ–ª—å—à–µ unit —Ç–µ—Å—Ç–æ–≤, –º–µ–Ω—å—à–µ integration —Ç–µ—Å—Ç–æ–≤
2. **Table-driven —Ç–µ—Å—Ç—ã**: –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
3. **–ú–æ–∫–∏**: –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ unit —Ç–µ—Å—Ç–æ–≤
4. **–ß–µ—Ç–∫–∏–µ –∏–º–µ–Ω–∞**: –æ–ø–∏—Å—ã–≤–∞—é—â–∏–µ —á—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è

### Unit —Ç–µ—Å—Ç—ã

```go
func TestPostService_CreatePost(t *testing.T) {
    tests := []struct {
        name        string
        input       *model.PostInput
        setupMock   func(*mocks.PostRepository)
        expected    *model.Post
        expectError bool
        errorMsg    string
    }{
        {
            name: "successful creation",
            input: &model.PostInput{
                Title:   "Test Post",
                Content: "Test Content",
                AuthorID: uuid.New(),
            },
            setupMock: func(mock *mocks.PostRepository) {
                mock.On("CreatePost", mock.Anything, mock.Anything).
                    Return(&model.Post{ID: uuid.New()}, nil)
            },
            expectError: false,
        },
        {
            name: "validation error",
            input: &model.PostInput{
                Title: "", // Invalid empty title
            },
            expectError: true,
            errorMsg:    "title cannot be empty",
        },
    }

    for _, tt := range tests {
        t.Run(tt.name, func(t *testing.T) {
            // Arrange
            mockRepo := &mocks.PostRepository{}
            if tt.setupMock != nil {
                tt.setupMock(mockRepo)
            }

            service := service.NewPostService(mockRepo, nil, zap.NewNop())

            // Act
            result, err := service.CreatePost(context.Background(), tt.input)

            // Assert
            if tt.expectError {
                assert.Error(t, err)
                if tt.errorMsg != "" {
                    assert.Contains(t, err.Error(), tt.errorMsg)
                }
                assert.Nil(t, result)
            } else {
                assert.NoError(t, err)
                assert.NotNil(t, result)
            }

            mockRepo.AssertExpectations(t)
        })
    }
}
```

### Integration —Ç–µ—Å—Ç—ã

```go
//go:build integration

func TestPostRepository_Integration(t *testing.T) {
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î
    db := setupTestDB(t)
    defer cleanupTestDB(t, db)

    repo := postgres.NewPostRepository(db)

    t.Run("create and retrieve post", func(t *testing.T) {
        input := &model.PostInput{
            Title:    "Integration Test Post",
            Content:  "Content for integration test",
            AuthorID: uuid.New(),
        }

        // Create
        created, err := repo.CreatePost(context.Background(), input)
        require.NoError(t, err)
        require.NotNil(t, created)
        assert.Equal(t, input.Title, created.Title)

        // Retrieve
        retrieved, err := repo.GetPost(context.Background(), created.ID)
        require.NoError(t, err)
        assert.Equal(t, created.ID, retrieved.ID)
        assert.Equal(t, created.Title, retrieved.Title)
    })
}
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
make test

# –¢–æ–ª—å–∫–æ unit —Ç–µ—Å—Ç—ã
make test-unit

# –¢–æ–ª—å–∫–æ integration —Ç–µ—Å—Ç—ã (—Ç—Ä–µ–±—É–µ—Ç –ë–î)
make test-integration

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
make test-coverage

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–∞–∫–µ—Ç
go test -v ./internal/service/...

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
go test -v -run TestPostService_CreatePost ./internal/service/
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ

–°—Ç—Ä–µ–º–∏–º—Å—è –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ø–æ–∫—Ä—ã—Ç–∏—é:
- **Domain models**: 100%
- **Services**: >90%
- **Repositories**: >85%
- **API converters**: 100%
- **–û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**: >80%

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

1. **GoDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** –¥–ª—è –≤—Å–µ—Ö —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
2. **README** –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ API
3. **–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
4. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

### GoDoc —Å—Ç–∏–ª—å

```go
// PostService –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ—Å—Ç–∞–º–∏.
// –°–µ—Ä–≤–∏—Å –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é –º–µ–∂–¥—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏.
type PostService struct {
    postRepo    repository.PostRepository
    commentRepo repository.CommentRepository
    logger      *zap.Logger
}

// CreatePost —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –ø–æ—Å—Ç —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–π –ø–æ—Å—Ç –∏–ª–∏ –æ—à–∏–±–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏/—Å–æ–∑–¥–∞–Ω–∏—è.
//
// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
//
//	input := &model.PostInput{
//		Title:   "My Post",
//		Content: "Post content",
//		AuthorID: authorID,
//	}
//	post, err := service.CreatePost(ctx, input)
//	if err != nil {
//		// handle error
//	}
func (s *PostService) CreatePost(ctx context.Context, input *model.PostInput) (*model.Post, error) {
    // implementation
}
```

## Pull Request –ø—Ä–æ—Ü–µ—Å—Å

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ PR

1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–∞ –≤–µ—Ç–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞:**
   ```bash
   git checkout main
   git pull origin main
   git checkout your-feature-branch
   git rebase main
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**
   ```bash
   make test
   make lint
   make format
   ```

3. **–£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–º–º–∏—Ç–æ–≤:**
   ```bash
   git log --oneline
   # –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–¥–µ–ª–∞–π—Ç–µ rebase –¥–ª—è —á–∏—Å—Ç–æ–π –∏—Å—Ç–æ—Ä–∏–∏
   ```

### –û–ø–∏—Å–∞–Ω–∏–µ PR

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π —à–∞–±–ª–æ–Ω:

```markdown
## –û–ø–∏—Å–∞–Ω–∏–µ

–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ –ø—Ä–∏—á–∏–Ω—ã –∏—Ö –≤–Ω–µ—Å–µ–Ω–∏—è.

## –¢–∏–ø –∏–∑–º–µ–Ω–µ–Ω–∏–π

- [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ (non-breaking change)
- [ ] –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è (non-breaking change)
- [ ] Breaking change (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∏–∑–º–µ–Ω—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

## –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ

- [ ] Unit —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] Integration —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
- [ ] –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ

## –ß–µ–∫–ª–∏—Å—Ç

- [ ] –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –°–∞–º–æ—Ä–µ–≤—å—é –∫–æ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
- [ ] –ö–æ–¥ –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ —Å–ª–æ–∂–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å main –≤–µ—Ç–∫–æ–π
- [ ] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞

## –°–≤—è–∑–∞–Ω–Ω—ã–µ Issues

Fixes #123
Related to #456

## –°–∫—Ä–∏–Ω—à–æ—Ç—ã (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)

[–î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–ª—è UI –∏–∑–º–µ–Ω–µ–Ω–∏–π]
```

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–µ–≤—å—é

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏** –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏
2. **–ú–∏–Ω–∏–º—É–º –æ–¥–∏–Ω approve** –æ—Ç –º–µ–π–Ω—Ç–µ–π–Ω–µ—Ä–∞
3. **–†–µ—à–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤** —Ä–µ–≤—å—é–µ—Ä–∞
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏** –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –ü–æ—Å–ª–µ –º–µ—Ä–∂–∞

1. **–£–¥–∞–ª–∏—Ç–µ feature –≤–µ—Ç–∫—É**
2. **–û–±–Ω–æ–≤–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é main –≤–µ—Ç–∫—É**
3. **–ó–∞–∫—Ä–æ–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ Issues**

## –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π GraphQL —Ç–∏–ø?

1. –î–æ–±–∞–≤—å—Ç–µ —Ç–∏–ø –≤ —Å—Ö–µ–º—É (`internal/api/graphql/schema/`)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `make generate`
3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ä–µ–∑–æ–ª–≤–µ—Ä—ã
4. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä—ã
5. –ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã

### Q: –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –ø–æ–ª–µ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ç–∏–ø?

1. –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–º–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å (`internal/model/`)
2. –û–±–Ω–æ–≤–∏—Ç–µ GraphQL —Å—Ö–µ–º—É
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `make generate`
4. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä—ã
5. –û–±–Ω–æ–≤–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
6. –î–æ–±–∞–≤—å—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –ë–î (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### Q: –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏?

–ò—Å–ø–æ–ª—å–∑—É–µ–º Relay Cursor Connections. –°–º. –ø—Ä–∏–º–µ—Ä—ã –≤ `internal/repository/` –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é GraphQL.

### Q: –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–µ—Å—Ç?

1. Unit —Ç–µ—Å—Ç—ã: –≤ —Ç–æ–º –∂–µ –ø–∞–∫–µ—Ç–µ —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º `_test.go`
2. Integration —Ç–µ—Å—Ç—ã: —Å build tag `//go:build integration`
3. –°–ª–µ–¥—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º

## –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

- **Issues**: [GitHub Issues](../../issues)
- **Discussions**: [GitHub Discussions](../../discussions)
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [docs/](../docs/)

–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –≤–∫–ª–∞–¥ –≤ Habbr! üöÄ
